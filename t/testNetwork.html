<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>testNetwork</title>
	<meta name="generator" content="Studio 3 http://aptana.com/">
	<meta name="author" content="Benjamin Hitz">
	<!-- Date: 2011-07-12 -->
     <link rel="stylesheet" href="/INT/css/qunit.css" type="text/css"/>  
     <script type="text/javascript" src="/INT/js/min/jquery-1.6.1.min.js"> </script>  
     <script type="text/javascript" src="/INT/js/qunit.js"></script>
     <script type="text/javascript" src="/INT/js/min/underscore-min.js"></script>
     <script type="text/javascript" src="/INT/js/min/require.min.js"></script>
     <script type="text/javascript" src="/INT/js/min/json2.min.js"></script>
     
     <script type="text/javascript" src="/INT/js/network.js"></script>
      <script type="text/javascript" src="/INT/js/Model_mock.js"></script>
    <script type="text/javascript">  
      // --- Unittest Code goes here ---  
 	$(document).ready(function(){
 
 		if ( console == undefined || console == null ){ 
 			console = { log: function(){} }; 
 		}

 	    QUnit.log = function(result, message) {
 		     	console.log(result +' :: '+ message);
  		};
  	
   		module("Network");
    	test("instantiate no data", function() {
 	      	var net = new Network({});
 	      	same(net.Nodes(), {}, 'Expected empty object for Nodes, found '+net.Nodes());
  	      	same(net.Edges(), {}, 'Expected empty object for Edges, found '+net.Edges());
  	      	ok(_.isFunction(net.addNetwork),'addNetwork is a function');
  	      	ok(_.isFunction(net.createNetwork), 'createNetwork is a function');
  	      	ok(_.isArray(net.banList()), 'ban list is an array '+net.banList());
  	      	equals(_.first(net.banList()),'NAB2','first element of banList is '+_.first(net.banList()));
  	      	ok(_.isArray(net.schema().nodes),'schema.nodes is an array '+net.schema().nodes);
  	      	ok(_.isArray(net.schema().edges),'schema.eges is an array '+net.schema().edges);
  	      	ok(_.isFunction(net.convertJSON),'convert JSON is a function');
  	      }
    	);
    	module("Model_mock");
    	test("getGO",function() {
    		var resultHolder= {};
    		var callback = function(data) { resultHolder = data };
    		var expected = {"rootClass":"Gene","modelName":"genomic","start":0,"views":["Gene.secondaryIdentifier","Gene.symbol","Gene.goAnnotation.qualifier","Gene.goAnnotation.ontologyTerm.identifier","Gene.goAnnotation.ontologyTerm.name","Gene.goAnnotation.ontologyTerm.namespace"],"results":[
{"symbol":"MF(ALPHA)1","goAnnotation":[{"ontologyTerm":{"objectId":459012692,"name":"pheromone-dependent signal transduction involved in conjugation with cellular fusion","class":"GOTerm","identifier":"GO:0000750","namespace":"biological_process"},"objectId":461052549,"class":"GOAnnotation","qualifier":null},{"ontologyTerm":{"objectId":459013188,"name":"mating pheromone activity","class":"GOTerm","identifier":"GO:0000772","namespace":"molecular_function"},"objectId":461052548,"class":"GOAnnotation","qualifier":null},{"ontologyTerm":{"objectId":459013189,"name":"pheromone activity","class":"GOTerm","identifier":"GO:0005186","namespace":"molecular_function"},"objectId":461052547,"class":"GOAnnotation","qualifier":null},{"ontologyTerm":{"objectId":459020538,"name":"extracellular region","class":"GOSlimTerm","identifier":"GO:0005576","namespace":"cellular_component"},"objectId":461052551,"class":"GOAnnotation","qualifier":null},{"ontologyTerm":{"objectId":459109396,"name":"mating","class":"GOTerm","identifier":"GO:0007618","namespace":"biological_process"},"objectId":461052550,"class":"GOAnnotation","qualifier":null},{"ontologyTerm":{"objectId":459006126,"name":"sexual reproduction","class":"GOTerm","identifier":"GO:0019953","namespace":"biological_process"},"objectId":461052552,"class":"GOAnnotation","qualifier":null}],"objectId":455023210,"class":"ORF","secondaryIdentifier":"YPL187W"}
],"executionTime":"2011.07.07 07:20::01","wasSuccessful":true,"error":null,"statusCode":200};
	        var mock = new Model
	        mock.getGO('MF(ALPHA)1');
	        same(resultHolder, expected);
    	})
   });     
  </script>  
   </head>  
   <body>  
     <h1 id="qunit-header">QUnit network.js</h1>  
     <h2 id="qunit-banner"></h2>  
     <h2 id="qunit-userAgent"></h2>  
     <ol id="qunit-tests">  
     	     </ol>  
   </body>  
</html>
